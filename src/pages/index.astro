---
import Button from "@components/Button/Button.astro";
import Contact from "@components/Contact/Contact.astro";
import FeatureNumbers from "@components/Feature/FeatureNumbers.astro";
// components
import Hero from "@components/Hero/Hero.astro";
import PortfolioThreeCards from "@components/Portfolio/PortfolioThreeCards.astro";
import PricingThreeCards from "@components/Pricing/PricingThreeCards.astro";
import Testimonials from "@components/Testimonials/Testimonials.astro";
// data
import siteData from "@config/siteData.json";
// layout
import BaseLayout from "@layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import About from "@components/About/About.astro";
import { getCollection } from "astro:content";

const pages = await getCollection("otherPages");
const about = pages.find(p => p.slug === "about");
if (!about) {
	throw new Error("About page not found in otherPages collection");
}
---

<BaseLayout title={siteData.title} description={siteData.description} navStartStyle="white">
	<Hero />
	<FeatureNumbers />
	<PortfolioThreeCards />
	<Testimonials />
	<PricingThreeCards />
	<About
		sectionTitle={about.data.sectionTitle}
		name={about.data.name}
		signature={about.data.signature}
		image={about.data.image}
		body={about.body}
	/>

	<Contact />
</BaseLayout>
